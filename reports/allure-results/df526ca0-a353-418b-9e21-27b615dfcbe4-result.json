{"name": "TC_CART_002 - Verify user can remove an item from the cart", "status": "failed", "statusDetails": {"message": "Failed: Test failed due to exception: 'NoneType' object has no attribute 'lower'", "trace": "self = <tests.test_cart.TestCart object at 0x000001DBBB7BDA70>\n\n    @allure.title(\"TC_CART_002 - Verify user can remove an item from the cart\")\n    @allure.severity(allure.severity_level.NORMAL)\n    @pytest.mark.regression\n    def test_remove_item_from_cart(self):\n        \"\"\"\n        TC_CART_002 - Verify removing an item from cart works properly.\n        \"\"\"\n        env = Environment(\"supertails\")\n        base_url = env.get_base_url()\n        cart = CartPage(self.driver)\n    \n        with allure.step(\"Navigate to Supertails home page\"):\n            self.logger.info(f\"Navigating to: {base_url}\")\n            self.driver.get(base_url)\n    \n        with allure.step(\"Remove an item from the cart\"):\n            try:\n                cart.open_cart()\n                items_before = cart.get_items_in_cart()\n                self.logger.debug(f\"Items before removal: {items_before}\")\n    \n                if len(items_before) > 0:\n                    cart.remove_cart_item_by_index(0)\n                    self.logger.info(\"Removed first item from cart successfully.\")\n    \n                    empty_msg = cart.no_item_in_cart()\n                    self.logger.info(f\"Empty cart message: {empty_msg}\")\n>                   assert \"empty\" in empty_msg.lower(), \"Cart not empty after removal.\"\n                                      ^^^^^^^^^^^^^^^\nE                   AttributeError: 'NoneType' object has no attribute 'lower'\n\ntests\\test_cart.py:69: AttributeError\n\nDuring handling of the above exception, another exception occurred:\n\nself = <tests.test_cart.TestCart object at 0x000001DBBB7BDA70>\n\n    @allure.title(\"TC_CART_002 - Verify user can remove an item from the cart\")\n    @allure.severity(allure.severity_level.NORMAL)\n    @pytest.mark.regression\n    def test_remove_item_from_cart(self):\n        \"\"\"\n        TC_CART_002 - Verify removing an item from cart works properly.\n        \"\"\"\n        env = Environment(\"supertails\")\n        base_url = env.get_base_url()\n        cart = CartPage(self.driver)\n    \n        with allure.step(\"Navigate to Supertails home page\"):\n            self.logger.info(f\"Navigating to: {base_url}\")\n            self.driver.get(base_url)\n    \n        with allure.step(\"Remove an item from the cart\"):\n            try:\n                cart.open_cart()\n                items_before = cart.get_items_in_cart()\n                self.logger.debug(f\"Items before removal: {items_before}\")\n    \n                if len(items_before) > 0:\n                    cart.remove_cart_item_by_index(0)\n                    self.logger.info(\"Removed first item from cart successfully.\")\n    \n                    empty_msg = cart.no_item_in_cart()\n                    self.logger.info(f\"Empty cart message: {empty_msg}\")\n                    assert \"empty\" in empty_msg.lower(), \"Cart not empty after removal.\"\n                else:\n                    self.logger.warning(\"Cart already empty; skipping removal check.\")\n            except Exception as e:\n                self.logger.error(f\"Error while removing cart item: {e}\")\n                allure.attach(self.driver.page_source, name=\"Cart Remove Failure\", attachment_type=allure.attachment_type.HTML)\n>               pytest.fail(f\"Test failed due to exception: {e}\")\nE               Failed: Test failed due to exception: 'NoneType' object has no attribute 'lower'\n\ntests\\test_cart.py:75: Failed"}, "description": "\nTC_CART_002 - Verify removing an item from cart works properly.\n", "steps": [{"name": "Navigate to Supertails home page", "status": "passed", "start": 1761652648316, "stop": 1761652650012}, {"name": "Remove an item from the cart", "status": "failed", "statusDetails": {"message": "Failed: Test failed due to exception: 'NoneType' object has no attribute 'lower'\n", "trace": "  File \"D:\\supertails_automation\\tests\\test_cart.py\", line 75, in test_remove_item_from_cart\n    pytest.fail(f\"Test failed due to exception: {e}\")\n    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"D:\\Supertails_Api\\petenv\\Lib\\site-packages\\_pytest\\outcomes.py\", line 177, in fail\n    raise Failed(msg=reason, pytrace=pytrace)\n"}, "steps": [{"name": "Clicking Element: ('xpath', '(//a[@id=\"HeaderCartTrigger\"])[2]')", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', '(//a[@id=\"HeaderCartTrigger\"])[2]')"}], "start": 1761652650013, "stop": 1761652653216}, {"name": "Clicking Element: ('xpath', '//span[contains(text(),\"Remove\")]')", "status": "passed", "parameters": [{"name": "locator", "value": "('xpath', '//span[contains(text(),\"Remove\")]')"}], "start": 1761652654245, "stop": 1761652654401}, {"name": "Getting text from Element: ('css selector', 'div[class=\"rte text-spacing\"]')", "status": "passed", "parameters": [{"name": "locator", "value": "('css selector', 'div[class=\"rte text-spacing\"]')"}], "start": 1761652654402, "stop": 1761652656613}], "attachments": [{"name": "Cart Remove Failure", "source": "50667563-c695-4392-bfb1-0758df800ea4-attachment.html", "type": "text/html"}], "start": 1761652650012, "stop": 1761652656695}], "attachments": [{"name": "log", "source": "4b1102a8-cdcc-4aea-bc2d-7e1cef5cfff5-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "15a24d15-b065-4367-8e8d-673b17685cda-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "browser", "value": "'chrome'"}], "start": 1761652648313, "stop": 1761652656698, "uuid": "1dc13ed2-96e5-45bd-9864-f115e6b20acb", "historyId": "7015e7a2a765cc3701c77f8d76b2da19", "testCaseId": "187ffd146826a70feca30df0e0c829ae", "fullName": "tests.test_cart.TestCart#test_remove_item_from_cart", "labels": [{"name": "severity", "value": "normal"}, {"name": "story", "value": "View and Modify Cart"}, {"name": "feature", "value": "Cart Management"}, {"name": "tag", "value": "regression"}, {"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_cart"}, {"name": "subSuite", "value": "TestCart"}, {"name": "host", "value": "Ni_KILL"}, {"name": "thread", "value": "8676-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_cart"}], "titlePath": ["tests", "test_cart.py", "TestCart"]}